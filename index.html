<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Yearly Calendar Designer</title>

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=Poppins:wght@300;400;600&family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet">

  <!-- jsPDF -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

  <style>
    :root {
      --primary: #6366f1;
      --holiday: #ef4444;
      --bg: #f8fafc;
      --card: #ffffff;
      --text: #0f172a;
      --font: 'Inter', sans-serif;
    }

    * { box-sizing: border-box; }

    body {
      margin: 0;
      font-family: var(--font);
      background: linear-gradient(135deg, #eef2ff, #ecfeff);
      color: var(--text);
    }

    .app {
      max-width: 1400px;
      margin: auto;
      padding: 32px 20px 80px;
    }

    h1 {
      text-align: center;
      font-size: 36px;
      margin-bottom: 30px;
    }

    /* CONTROLS */
    .controls {
      background: var(--card);
      border-radius: 24px;
      padding: 24px;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 18px;
      box-shadow: 0 30px 60px rgba(0,0,0,0.1);
      margin-bottom: 36px;
    }

    .controls label {
      font-size: 13px;
      font-weight: 600;
      display: block;
      margin-bottom: 6px;
    }

    .controls input,
    .controls select,
    .controls button {
      width: 100%;
      padding: 12px 14px;
      border-radius: 12px;
      border: 1px solid #d1d5db;
      font-family: inherit;
      font-size: 14px;
    }

    .controls button {
      background: var(--primary);
      color: #fff;
      border: none;
      font-weight: 600;
      cursor: pointer;
    }

    /* HEADER IMAGE */
    .header-image-wrapper {
      position: relative;
      margin-bottom: 30px;
    }

    .header-image-wrapper img {
      width: 100%;
      max-height: 220px;
      object-fit: cover;
      border-radius: 24px;
    }

    .image-controls {
      display: flex;
      gap: 10px;
      margin-top: 10px;
    }

    /* YEAR GRID */
    .year-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 24px;
    }

    .month-card {
      background: var(--card);
      border-radius: 20px;
      padding: 16px;
      box-shadow: 0 20px 40px rgba(0,0,0,0.08);
    }

    .month-card h3 {
      text-align: center;
      margin: 10px 0 14px;
      color: var(--primary);
    }

    .calendar-grid {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      gap: 6px;
      font-size: 12px;
    }

    .day-name {
      text-align: center;
      font-weight: 600;
      padding: 6px 0;
      background: #eef2ff;
      border-radius: 8px;
    }

    .date {
      min-height: 36px;
      border-radius: 8px;
      background: #f8fafc;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: default;
    }

    .date.holiday {
      background: rgba(239,68,68,0.2);
      color: #7f1d1d;
      font-weight: 700;
    }

    footer {
      text-align: center;
      margin-top: 30px;
      font-size: 13px;
      opacity: 0.7;
    }
  </style>
</head>
<body>

<div class="app">
  <h1>Yearly Calendar Designer</h1>

  <!-- CONTROLS -->
  <div class="controls">
    <div>
      <label>Company / Calendar Title</label>
      <input type="text" id="titleInput" placeholder="Your Company Name" />
    </div>

    <div>
      <label>Year</label>
      <input type="number" id="yearInput" value="2026" />
    </div>

    <div>
      <label>Upload Header Image</label>
      <input type="file" id="imageInput" accept="image/*" />
    </div>

    <div>
      <label>Primary Theme Color</label>
      <input type="color" id="themeColor" value="#6366f1" />
    </div>

    <div>
      <label>Font Style</label>
      <select id="fontSelect">
        <option value="Inter">Inter (Modern)</option>
        <option value="Poppins">Poppins (Friendly)</option>
        <option value="Montserrat">Montserrat (Corporate)</option>
      </select>
    </div>

    <div>
      <button id="generateBtn">Generate Year Calendar</button>
    </div>

    <div>
      <button id="pdfBtn">Download PDF</button>
    </div>
  </div>

  <!-- HEADER IMAGE -->
  <div class="header-image-wrapper">
    <img id="headerImage" src="https://images.unsplash.com/photo-1496307042754-b4aa456c4a2d" alt="Header Image" />
  </div>

  <h2 id="calendarTitle" style="text-align:center;margin-bottom:30px;">Sample Company – Yearly Calendar</h2>

  <!-- YEAR CALENDAR -->
  <div class="year-grid" id="yearGrid"></div>

  <footer>Public holidays are pre-marked and identical for all users</footer>
</div>

<script>
  const months = ['January','February','March','April','May','June','July','August','September','October','November','December'];

  // Fixed public holidays (same for everyone)
  const fixedHolidays = {
    '1-1': true,   // New Year
    '2-4': true,   // Independence Day
    '5-1': true,   // May Day
    '12-25': true  // Christmas
  };

  function generateYearCalendar() {
    const year = parseInt(document.getElementById('yearInput').value);
    const yearGrid = document.getElementById('yearGrid');
    yearGrid.innerHTML = '';

    document.getElementById('calendarTitle').textContent =
      (document.getElementById('titleInput').value || 'Company Calendar') + ' – ' + year;

    months.forEach((monthName, monthIndex) => {
      const monthCard = document.createElement('div');
      monthCard.className = 'month-card';

      const title = document.createElement('h3');
      title.textContent = monthName;
      monthCard.appendChild(title);

      const grid = document.createElement('div');
      grid.className = 'calendar-grid';

      ['Sun','Mon','Tue','Wed','Thu','Fri','Sat'].forEach(d => {
        const el = document.createElement('div');
        el.className = 'day-name';
        el.textContent = d;
        grid.appendChild(el);
      });

      const firstDay = new Date(year, monthIndex, 1).getDay();
      const daysInMonth = new Date(year, monthIndex + 1, 0).getDate();

      for (let i = 0; i < firstDay; i++) grid.appendChild(document.createElement('div'));

      for (let day = 1; day <= daysInMonth; day++) {
        const cell = document.createElement('div');
        cell.className = 'date';
        cell.textContent = day;

        const key = `${monthIndex + 1}-${day}`;
        if (fixedHolidays[key]) cell.classList.add('holiday');

        grid.appendChild(cell);
      }

      monthCard.appendChild(grid);
      yearGrid.appendChild(monthCard);
    });
  }

  document.getElementById('imageInput').addEventListener('change', e => {
    const file = e.target.files[0];
    if (!file) return;
    const reader = new FileReader();
    reader.onload = ev => document.getElementById('headerImage').src = ev.target.result;
    reader.readAsDataURL(file);
  });

  document.getElementById('themeColor').addEventListener('input', e => {
    document.documentElement.style.setProperty('--primary', e.target.value);
  });

  document.getElementById('fontSelect').addEventListener('change', e => {
    document.documentElement.style.setProperty('--font', `'${e.target.value}', sans-serif`);
  });

  document.getElementById('generateBtn').addEventListener('click', generateYearCalendar);

  document.getElementById('pdfBtn').addEventListener('click', async () => {
    const { jsPDF } = window.jspdf;
    const pdf = new jsPDF('p', 'pt', 'a4');
    await pdf.html(document.querySelector('.app'), {
      x: 20,
      y: 20,
      width: 560,
      callback: () => pdf.save('yearly-calendar.pdf')
    });
  });

  generateYearCalendar();
</script>

</body>
</html>
