<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Advanced Yearly Calendar Builder</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter&family=Poppins&family=Montserrat&family=Roboto&family=Open+Sans&family=Lato&family=Oswald&family=Raleway&family=Playfair+Display&family=Merriweather&display=swap" rel="stylesheet">

  <!-- html2canvas for JPEG export -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

  <style>
    :root {
      --theme-bg: linear-gradient(135deg, #eef2ff, #fdf2f8);
      --card-bg: rgba(255,255,255,0.85);
      --text-color: #1f2937;
    }

    * { box-sizing: border-box; }

    body {
      margin: 0;
      font-family: Inter, sans-serif;
      background: var(--theme-bg);
      color: var(--text-color);
    }

    header {
      padding: 16px;
      background: #ffffff;
      box-shadow: 0 4px 10px rgba(0,0,0,0.06);
      position: sticky;
      top: 0;
      z-index: 10;
    }

    header h1 {
      margin: 0 0 12px;
      font-size: 20px;
      text-align: center;
    }

    .controls {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
      gap: 10px;
    }

    input, select, button {
      padding: 8px 10px;
      border-radius: 8px;
      border: 1px solid #d1d5db;
      font-size: 14px;
    }

    button {
      background: #6366f1;
      color: white;
      border: none;
      cursor: pointer;
    }

    button.secondary { background: #ec4899; }

    #previewWrapper { padding: 20px; }

    #calendar {
      max-width: 1200px;
      margin: auto;
      padding: 30px 20px 40px;
      border-radius: 18px;
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      position: relative;
    }

    #calendar::before {
      content: "";
      position: absolute;
      inset: 0;
      background: rgba(255,255,255,0.82);
      border-radius: 18px;
      z-index: 0;
    }

    .calendar-content { position: relative; z-index: 1; }

    .company-name {
      text-align: center;
      font-weight: 700;
      margin-bottom: 4px;
    }

    .year-display {
      text-align: center;
      font-weight: 600;
      margin-bottom: 20px;
    }

    .weekdays {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      font-size: 11px;
      text-align: center;
      margin-bottom: 6px;
      font-weight: 600;
    }

    .months {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 16px;
    }

    .month {
      background: var(--card-bg);
      border-radius: 14px;
      padding: 10px;
    }

    .month h3 {
      text-align: center;
      margin: 4px 0 8px;
      font-size: 16px;
    }

    .days {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      gap: 4px;
      font-size: 12px;
      text-align: center;
    }

    .day {
      padding: 6px 0;
      border-radius: 6px;
    }

    /* Themes */
    .theme-modern { --theme-bg: linear-gradient(135deg, #eef2ff, #fdf2f8); }
    .theme-sunset { --theme-bg: linear-gradient(135deg, #ffedd5, #fecaca); }
    .theme-ocean  { --theme-bg: linear-gradient(135deg, #e0f2fe, #cffafe); }
    .theme-forest { --theme-bg: linear-gradient(135deg, #dcfce7, #bbf7d0); }
    .theme-night  { --theme-bg: linear-gradient(135deg, #1f2937, #111827); color: #f9fafb; }

    @media (max-width: 600px) {
      header h1 { font-size: 18px; }
      .months { grid-template-columns: 1fr; }
    }
  </style>
</head>
<body class="theme-modern">

<header>
  <h1>Advanced Calendar Builder</h1>
  <div class="controls">
    <input type="text" id="companyInput" placeholder="Company / Name" />
    <input type="number" id="yearInput" value="2026" min="2026" max="2030" />

    <select id="fontSelect">
      <option value="Inter">Inter</option>
      <option value="Poppins">Poppins</option>
      <option value="Montserrat">Montserrat</option>
      <option value="Roboto">Roboto</option>
      <option value="Open Sans">Open Sans</option>
      <option value="Lato">Lato</option>
      <option value="Oswald">Oswald</option>
      <option value="Raleway">Raleway</option>
      <option value="Playfair Display">Playfair Display</option>
      <option value="Merriweather">Merriweather</option>
    </select>

    <input type="color" id="companyColor" value="#1f2937" title="Company Color" />
    <input type="color" id="yearColor" value="#1f2937" title="Year Color" />
    <input type="number" id="companyFontSize" value="30" min="14" max="60" />
    <input type="number" id="yearFontSize" value="22" min="14" max="50" />

    <input type="file" id="bgUpload" accept="image/*" />

    <select id="themeSelect">
      <option value="theme-modern">Modern</option>
      <option value="theme-sunset">Sunset</option>
      <option value="theme-ocean">Ocean</option>
      <option value="theme-forest">Forest</option>
      <option value="theme-night">Night</option>
    </select>

    <button onclick="downloadJPEG()">Download JPEG</button>
    <button class="secondary" onclick="generateCalendar()">Generate</button>
  </div>
</header>

<div id="previewWrapper">
  <div id="calendar">
    <div class="calendar-content">
      <div class="company-name" id="companyName">Your Company</div>
      <div class="year-display" id="yearDisplay">2026</div>
      <div class="months" id="months"></div>
    </div>
  </div>
</div>

<script>
  const monthsEl = document.getElementById('months');

  function buildCalendar(year) {
    monthsEl.innerHTML = '';
    document.getElementById('yearDisplay').textContent = year;

    const weekdayNames = ['Mon','Tue','Wed','Thu','Fri','Sat','Sun'];

    for (let m = 0; m < 12; m++) {
      const date = new Date(year, m, 1);
      const month = document.createElement('div');
      month.className = 'month';
      month.innerHTML = `<h3>${date.toLocaleString('default', { month: 'long' })}</h3>`;

      const weekdays = document.createElement('div');
      weekdays.className = 'weekdays';
      weekdayNames.forEach(d => weekdays.innerHTML += `<div>${d}</div>`);

      const days = document.createElement('div');
      days.className = 'days';

      let startDay = (new Date(year, m, 1).getDay() + 6) % 7; // Monday start
      for (let i = 0; i < startDay; i++) days.innerHTML += '<div></div>';

      const daysInMonth = new Date(year, m + 1, 0).getDate();
      for (let d = 1; d <= daysInMonth; d++) {
        days.innerHTML += `<div class="day">${d}</div>`;
      }

      month.appendChild(weekdays);
      month.appendChild(days);
      monthsEl.appendChild(month);
    }
  }

  // Live controls
  document.getElementById('companyInput').addEventListener('input', e => {
    document.getElementById('companyName').textContent = e.target.value || 'Your Company';
  });

  document.getElementById('fontSelect').addEventListener('change', e => {
    document.body.style.fontFamily = e.target.value;
  });

  document.getElementById('companyColor').addEventListener('input', e => {
    document.getElementById('companyName').style.color = e.target.value;
  });

  document.getElementById('yearColor').addEventListener('input', e => {
    document.getElementById('yearDisplay').style.color = e.target.value;
  });

  document.getElementById('companyFontSize').addEventListener('input', e => {
    document.getElementById('companyName').style.fontSize = e.target.value + 'px';
  });

  document.getElementById('yearFontSize').addEventListener('input', e => {
    document.getElementById('yearDisplay').style.fontSize = e.target.value + 'px';
  });

  document.getElementById('bgUpload').addEventListener('change', e => {
    const file = e.target.files[0];
    if (!file) return;
    const reader = new FileReader();
    reader.onload = () => {
      document.getElementById('calendar').style.backgroundImage = `url(${reader.result})`;
    };
    reader.readAsDataURL(file);
  });

  document.getElementById('themeSelect').addEventListener('change', e => {
    document.body.className = e.target.value;
  });

  function generateCalendar() {
    const year = parseInt(document.getElementById('yearInput').value);
    buildCalendar(year);
  }

  function downloadJPEG() {
    html2canvas(document.getElementById('calendar'), { scale: 2 }).then(canvas => {
      const link = document.createElement('a');
      link.download = `Calendar_${document.getElementById('yearInput').value}.jpg`;
      link.href = canvas.toDataURL('image/jpeg', 1.0);
      link.click();
    });
  }

  generateCalendar();
</script>

</body>
</html>