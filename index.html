<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Advanced Calendar Designer</title>

  <!-- Google Font -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">

  <!-- jsPDF -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

  <style>
    :root {
      --primary: #2563eb;
      --accent: #22c55e;
      --holiday: #ef4444;
      --bg: #f1f5f9;
      --card: #ffffff;
      --text: #0f172a;
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      font-family: 'Inter', sans-serif;
      background: linear-gradient(135deg, #e0e7ff, #f0fdf4);
      color: var(--text);
    }

    .app {
      max-width: 1200px;
      margin: auto;
      padding: 32px 20px 60px;
    }

    h1.app-title {
      text-align: center;
      margin-bottom: 30px;
      font-size: 32px;
      font-weight: 700;
    }

    /* CONTROLS */
    .controls {
      background: var(--card);
      border-radius: 20px;
      padding: 24px;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 18px;
      box-shadow: 0 25px 50px rgba(0,0,0,0.08);
      margin-bottom: 36px;
    }

    .controls label {
      font-size: 13px;
      font-weight: 600;
      margin-bottom: 6px;
      display: block;
    }

    .controls input,
    .controls select,
    .controls button {
      width: 100%;
      padding: 12px 14px;
      border-radius: 12px;
      border: 1px solid #d1d5db;
      font-family: inherit;
      font-size: 14px;
    }

    .controls button {
      background: var(--primary);
      color: #fff;
      border: none;
      cursor: pointer;
      font-weight: 600;
      transition: transform .15s ease, box-shadow .15s ease;
    }

    .controls button:hover {
      transform: translateY(-1px);
      box-shadow: 0 10px 20px rgba(0,0,0,0.15);
    }

    /* CALENDAR CARD */
    .calendar-card {
      background: var(--card);
      border-radius: 28px;
      padding: 28px;
      box-shadow: 0 40px 80px rgba(0,0,0,0.12);
    }

    .calendar-header {
      text-align: center;
      margin-bottom: 24px;
    }

    .calendar-header img {
      width: 100%;
      max-height: 180px;
      object-fit: cover;
      border-radius: 20px;
      margin-bottom: 16px;
      background: #e5e7eb;
    }

    .calendar-header h2 {
      margin: 0;
      font-size: 26px;
      font-weight: 700;
    }

    /* GRID */
    .calendar-grid {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      gap: 10px;
    }

    .day-name {
      text-align: center;
      font-weight: 600;
      padding: 10px 0;
      border-radius: 10px;
      background: #eef2ff;
    }

    .date {
      min-height: 90px;
      padding: 10px;
      border-radius: 14px;
      background: #f8fafc;
      position: relative;
      cursor: pointer;
      transition: transform .1s ease, box-shadow .1s ease;
    }

    .date:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 20px rgba(0,0,0,0.12);
    }

    .date.holiday {
      background: rgba(239,68,68,0.15);
      border: 2px solid var(--holiday);
      color: #7f1d1d;
    }

    .date span {
      position: absolute;
      top: 8px;
      right: 10px;
      font-weight: 700;
      font-size: 14px;
    }

    .footer {
      text-align: center;
      margin-top: 18px;
      font-size: 13px;
      opacity: .7;
    }

    @media (max-width: 600px) {
      .calendar-header img {
        max-height: 140px;
      }
    }
  </style>
</head>
<body>

<div class="app">
  <h1 class="app-title">Custom Calendar Designer</h1>

  <!-- CONTROLS -->
  <div class="controls">
    <div>
      <label>Company / Calendar Title</label>
      <input type="text" id="titleInput" placeholder="Your Company Name" />
    </div>

    <div>
      <label>Month</label>
      <select id="monthSelect"></select>
    </div>

    <div>
      <label>Year</label>
      <input type="number" id="yearInput" value="2026" />
    </div>

    <div>
      <label>Upload Header Image</label>
      <input type="file" id="imageInput" accept="image/*" />
    </div>

    <div>
      <label>Theme Color</label>
      <input type="color" id="themeColor" value="#2563eb" />
    </div>

    <div>
      <label>Holiday Color</label>
      <input type="color" id="holidayColor" value="#ef4444" />
    </div>

    <div>
      <button id="generateBtn">Generate Calendar</button>
    </div>

    <div>
      <button id="pdfBtn">Download PDF</button>
    </div>
  </div>

  <!-- CALENDAR -->
  <div class="calendar-card" id="calendar">
    <div class="calendar-header">
      <img id="headerImage" src="https://images.unsplash.com/photo-1500530855697-b586d89ba3ee" alt="Header" />
      <h2 id="calendarTitle">Sample Company Calendar</h2>
    </div>

    <div class="calendar-grid" id="calendarGrid"></div>
    <div class="footer">Click any date to mark it as a holiday</div>
  </div>
</div>

<script>
  const months = [
    'January','February','March','April','May','June',
    'July','August','September','October','November','December'
  ];

  const sriLankaHolidays = {
    '1-1': 'New Year',
    '2-4': 'Independence Day',
    '5-1': 'May Day',
    '12-25': 'Christmas'
  };

  const monthSelect = document.getElementById('monthSelect');
  months.forEach((m, i) => {
    const opt = document.createElement('option');
    opt.value = i;
    opt.textContent = m;
    monthSelect.appendChild(opt);
  });

  monthSelect.value = new Date().getMonth();

  function generateCalendar() {
    const grid = document.getElementById('calendarGrid');
    grid.innerHTML = '';

    const month = parseInt(monthSelect.value);
    const year = parseInt(document.getElementById('yearInput').value);

    document.getElementById('calendarTitle').textContent =
      document.getElementById('titleInput').value || 'Custom Calendar';

    const firstDay = new Date(year, month, 1).getDay();
    const daysInMonth = new Date(year, month + 1, 0).getDate();

    ['Sun','Mon','Tue','Wed','Thu','Fri','Sat'].forEach(d => {
      const el = document.createElement('div');
      el.className = 'day-name';
      el.textContent = d;
      grid.appendChild(el);
    });

    for (let i = 0; i < firstDay; i++) {
      grid.appendChild(document.createElement('div'));
    }

    for (let day = 1; day <= daysInMonth; day++) {
      const cell = document.createElement('div');
      cell.className = 'date';
      cell.innerHTML = `<span>${day}</span>`;

      const key = `${month + 1}-${day}`;
      if (sriLankaHolidays[key]) {
        cell.classList.add('holiday');
        cell.title = sriLankaHolidays[key];
      }

      cell.addEventListener('click', () => {
        cell.classList.toggle('holiday');
      });

      grid.appendChild(cell);
    }

    document.documentElement.style.setProperty('--primary', document.getElementById('themeColor').value);
    document.documentElement.style.setProperty('--holiday', document.getElementById('holidayColor').value);
  }

  document.getElementById('imageInput').addEventListener('change', e => {
    const file = e.target.files[0];
    if (!file) return;

    const reader = new FileReader();
    reader.onload = ev => {
      document.getElementById('headerImage').src = ev.target.result;
    };
    reader.readAsDataURL(file);
  });

  document.getElementById('generateBtn').addEventListener('click', generateCalendar);

  document.getElementById('pdfBtn').addEventListener('click', async () => {
    const { jsPDF } = window.jspdf;
    const pdf = new jsPDF('p', 'pt', 'a4');

    await pdf.html(document.getElementById('calendar'), {
      x: 20,
      y: 20,
      width: 560,
      callback: () => pdf.save('custom-calendar.pdf')
    });
  });

  generateCalendar();
</script>

</body>
</html>